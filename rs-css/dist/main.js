(()=>{"use strict";const e=[{level:1,title:"Type Selector",toDo:"Select the princess",selector:"princess",syntax:"A",help:"Selects all elements of type <strong>A</strong>. Type refers to the type of tag, so <tag>div</tag>, <tag>p</tag> and <tag>ul</tag> are all different element types.",examples:["<strong>div</strong> selects all <tag>div</tag> elements.","<strong>p</strong> selects all <tag>p</tag> elements."],htmlMarkup:"\n    <princess></princess>"},{level:2,title:"Type Selector",toDo:"Select the all knights",selector:"knight",syntax:"A",help:"Selects all elements of type <strong>A</strong>. Type refers to the type of tag, so <tag>div</tag>, <tag>p</tag> and <tag>ul</tag> are all different element types.",examples:["<strong>div</strong> selects all <tag>div</tag> elements.","<strong>p</strong> selects all <tag>p</tag> elements."],htmlMarkup:"\n    <knight></knight>\n    <princess></princess>\n    <knight></knight>"},{level:3,title:"ID Selector",toDo:"Select the aggressive knight",selector:"#aggressive",syntax:"#id",help:"Selects the element with a specific <strong>id</strong>. You can also combine the ID selector with the type selector.",examples:['<strong>#cool</strong> selects any element with <strong>id="cool"</strong>','<strong>ul#long</strong> selects <tag>ul id="long"</tag>'],htmlMarkup:'\n    <knight id="aggressive"></knight>\n    <princess></princess>\n    <knight></knight>'},{level:4,title:"Descendant Selector",toDo:"Select the knight in the fog",selector:"fog knight",syntax:"A  B",help:"Selects all <strong>B</strong> inside of <strong>A</strong>. <strong>B</strong> is called a descendant because it is inside of another element.",examples:["<strong>p&nbsp;&nbsp;strong</strong> selects all <tag>strong</tag> elements that are inside of any <tag>p</tag>",'<strong>#fancy&nbsp;&nbsp;span</strong> selects any <tag>span</tag> elements that are inside of the element with <strong>id="fancy"</strong>'],htmlMarkup:"\n    <princess></princess>\n    <fog>\n      <knight></knight>\n    </fog>\n    <knight></knight>"},{level:5,title:"Combine the Descendant & ID Selectors",toDo:"Select knight in flower garden",selector:".flower knight",syntax:"#id  A",help:"You can combine any selector with the descendent selector.",examples:['<strong>#cool&nbsp;span</strong> selects all <tag>span</tag> elements that are inside of elements with <strong>id="cool"</strong>'],htmlMarkup:'\n    <garden>\n      <princess></princess>\n    </garden>\n    <garden id="flower">\n      <knight></knight>\n    </garden>\n    <fortress>\n      <knight></knight>\n    </fortress>'},{level:6,title:"Class Selector",toDo:"Select the hidden enemies",selector:".hidden",syntax:".small",help:"The class selector selects all elements with that class attribute. Elements can only have one ID, but many classes.",examples:['<strong>.neato</strong> selects all elements with <strong>class="neato"</strong>.'],htmlMarkup:'\n    <knight></knight>\n    <princess></princess>\n    <knight class="hidden"></knight>\n    <assassin class="hidden"></assasin>'},{level:7,title:"",toDo:"Select the hidden knights",selector:"knight.hidden",syntax:"A.className",help:"You can combine the class selector with other selectors, like the type selector.",examples:['<strong>ul.important</strong> selects all <tag>ul</tag> elements that have <strong>class="important"</strong>','<strong>#big.wide</strong> selects all elements with <strong>id="big"</strong> that also have <strong>class="wide"</strong>'],htmlMarkup:'\n    <assassin></assassin>\n    <assassin class="hidden"></assassin>\n    <fortress>\n      <knight class="hidden"></knight>\n    </fortress>\n    <garden>\n      <assassin></assassin>\n    </garden>\n    <garden>\n      <knight class="hidden"></knight>\n    </garden>'},{level:8,title:"",toDo:"Select all hidden assassins in fog",selector:"fog assassin.hidden",syntax:"Put your back into it!",help:"Combine what you learned in the last few levels to solve this one!",examples:[],htmlMarkup:'\n    <fog><assassin></assasin></fog>\n    <assassin></assassin>\n    <fog><assassin class="hidden"></assassin></fog>\n    <garden><assassin class="hidden"></assassin></garden>'},{level:9,title:"Comma Combinator",toDo:"Select all the enemies",selector:"knight, assassin",syntax:"A, B",help:"Thanks to Shatner technology, this selects all <strong>A</strong> and <strong>B</strong> elements. You can combine any selectors this way, and you can specify more than two.",examples:['<strong>p, .fun</strong> selects all <tag>p</tag> elements as well as all elements with <strong>class="fun"</strong>',"<strong>a, p, div</strong> selects all <tag>a</tag>, <tag>p</tag> and <tag>div</tag> elements"],htmlMarkup:"\n    <knight></knight>\n    <princess></princess>\n    <assassin></assassin>"},{level:10,title:"The Universal Selector",toDo:"Select all the things!",selector:"*",syntax:"*",help:"You can select all elements with the universal selector!",examples:["<strong>p *</strong> selects any element inside all <tag>p</tag> elements."],htmlMarkup:'\n    <fog>\n      <assassin class="hidden"></assassin>\n    </fog>\n    <dragon></dragon>\n    <princess></princess>\n    <garden>\n    <knight id="aggressive"></knight>\n    </garden>'}];class t{constructor(e){this.element=document.createElement("div"),this.createElement(e)}createElement(e){this.element=document.createElement(e.tag),this.setStyles(e.classNames),this.addChildrens(e.childrens)}getElement(){return this.element}setStyles(e){this.element.classList.add(...e)}addChildrens(e){e&&this.element.append(...e)}}class s{constructor(e){this.elementCreator=this.createView(e)}getHtmlElement(){return this.elementCreator.getElement()}createView(e){const s={tag:e.tag,classNames:e.classNames,childrens:e.childrens};return new t(s)}}class n extends s{constructor(e){super({tag:"div",classNames:["css-display"],childrens:e})}}class l extends s{constructor(e){super({tag:"div",classNames:["event-display"],childrens:e})}}class a{constructor(e){this.element=document.createElement("div"),this.createElement(e)}createElement(e){this.element=document.createElement(e.tag),this.setStyles(e.classNames),this.setInnerHtml(e.innerHtml)}getElement(){return this.element}setStyles(e){this.element.classList.add(...e)}setInnerHtml(e){this.element&&(this.element.innerHTML=e)}}class i{constructor(e){this.elementCreator=this.createView(e)}getHtmlElement(){return this.elementCreator.getElement()}createView(e){const t={tag:e.tag,classNames:e.classNames,innerHtml:e.innerHtml};return new a(t)}}class r extends i{constructor(){super({tag:"footer",classNames:["footer"],innerHtml:'<div>created by <a href="https://github.com/sheritsh">// sheritsh</a> © 2023</div><div><a href="https://rs.school/js/"><img class="footer__img" src="../assets/svg/rs_logo.svg" alt="RS School logo"></div>'})}}class c extends i{constructor(){super({tag:"header",classNames:["header"],innerHtml:'<div class="header__top"><div class="logo__img"><img src="../assets/icons/icon.ico"></div><div class="logo">RSS Selectors</div></div><h2>Select right selectors</h2>'})}}class o extends s{constructor(e){super({tag:"div",classNames:["html-display"],childrens:e})}}class d{constructor(){this.elementCreator=this.createView()}getHtmlElement(){return this.elementCreator.getElement()}createView(){return new a({tag:"main",classNames:["main"],innerHtml:""})}}class h extends s{constructor(e){super({tag:"div",classNames:["nav-display"],childrens:e})}}new class{constructor(){this.currentLevel=1,this.eventDisplayChildren=[],this.cssDisplayChildren=[],this.htmlDisplayChildren=[],this.navDisplayChildren=[],this.getCurrentLvl(),this.composeEventDisplay(),this.composeCssDisplay(),this.composeHtmlDisplay(),this.composeNavDisplay(),this.createView(this.cssDisplayChildren,this.htmlDisplayChildren,this.navDisplayChildren,this.eventDisplayChildren)}createView(e,t,s,a){var i,m;const g=new d,p=new c,v=new r,u=new l(a),L=new n(e),y=new o(t),E=new h(s),f=document.createElement("div");f.classList.add("left-side");const C=document.createElement("div");C.classList.add("right-side");const k=document.createElement("div");k.classList.add("gaming-area"),k.append(L.getHtmlElement(),y.getHtmlElement()),document.body.appendChild(g.getHtmlElement()),f.append(p.getHtmlElement(),u.getHtmlElement(),k,v.getHtmlElement()),null===(i=document.querySelector(".main"))||void 0===i||i.appendChild(f),C.append(E.getHtmlElement()),null===(m=document.querySelector(".main"))||void 0===m||m.appendChild(C);const x=document.createElement("div");x.classList.add("winner-window","none"),x.textContent="Поздравляю! Ты победил!",document.body.appendChild(x),this.receiveEnteredSelector()}composeCssDisplay(){const t=document.createElement("div");t.classList.add("editor-panel");const s=document.createElement("div");s.classList.add("input-header");const n=document.createElement("div");n.textContent="CSS Editor";const l=document.createElement("div");l.classList.add("filename"),l.textContent="style.css";const a=document.createElement("div");s.append(n,l),a.classList.add("editor-area");const i=document.createElement("div");i.classList.add("line-numbers");for(let e=0;e<30;e++)i.innerHTML+=`${e+1}<br>`;const r=document.createElement("div");r.classList.add("input-area");const c=document.createElement("form");c.id="selector-form";const o=document.createElement("input");o.innerHTML="<pre><code>",o.setAttribute("type","text"),o.setAttribute("placeholder","Type in a CSS selector"),o.setAttribute("maxlength","20"),o.classList.add("input-css"),o.id="selector-input";const d=document.createElement("button");d.textContent="Enter",d.setAttribute("type","submit");const h=document.createElement("div");h.innerHTML="<br>{<br> /* Styles would go here.<br>*/<br>}",h.classList.add("description");const m=document.createElement("button");m.textContent="Help",m.addEventListener("click",(()=>{this.setLvlHelpedStatus(),o.classList.add("typewritten");let t=0;const s=setInterval((()=>{o.value+=e[this.currentLevel-1].selector.charAt(t),t++,t>=e[this.currentLevel-1].selector.length&&clearInterval(s)}),200);o.classList.remove("typewritten")})),c.append(o,d),r.append(c,m),a.append(i,r,h),t.append(s,a),this.cssDisplayChildren.push(t)}composeHtmlDisplay(){const t=document.createElement("div");t.classList.add("editor-panel");const s=document.createElement("div");s.classList.add("input-header");const n=document.createElement("div");n.textContent="HTML Viewer";const l=document.createElement("div");l.textContent="castle.html",l.classList.add("filename");const a=document.createElement("div");a.classList.add("editor-area"),s.append(n,l);const i=document.createElement("div");i.classList.add("line-numbers");for(let e=0;e<30;e++)i.innerHTML+=`${e+1}<br>`;const r=document.createElement("div");r.textContent+='<div style="castle">',r.textContent+=e[this.currentLevel-1].htmlMarkup,r.textContent+="\n</div>",r.style.whiteSpace="pre-line",r.classList.add("input-html"),a.append(i,r),t.append(s,a),this.htmlDisplayChildren.push(t)}composeEventDisplay(){const t=document.createElement("div");t.classList.add("obj-screen"),t.innerHTML=e[this.currentLevel-1].htmlMarkup,this.eventDisplayChildren.push(t)}composeNavDisplay(){const t=document.createElement("div");t.classList.add("nav__header");const s=document.createElement("div");s.classList.add("nav__header_cur-lvl"),s.textContent=`Level ${this.currentLevel} of ${e.length}`;const n=document.createElement("div");n.classList.add("level-status");const l=localStorage.getItem(`lvl${this.currentLevel}`);"complete"===l?n.classList.add("status-green"):"helped"===l?n.classList.add("status-orange"):n.classList.add("status-red");const a=document.createElement("div");a.classList.add("nav__header_prev"),a.addEventListener("click",(()=>{this.prevLvl()}));const i=document.createElement("div");i.addEventListener("click",(()=>{this.nextLvl()})),i.classList.add("nav__header_next");const r=document.createElement("div");r.classList.add("nav__header-menu"),r.addEventListener("click",(()=>{p.classList.remove("translated")})),t.append(s,n,a,i,r);const c=document.createElement("div");c.classList.add("nav__title"),c.textContent=e[this.currentLevel-1].title,this.eventDisplayChildren.push(c);const o=document.createElement("div");o.classList.add("nav__toDo"),o.textContent=e[this.currentLevel-1].toDo;const d=document.createElement("div");d.classList.add("nav__syntax"),d.textContent=e[this.currentLevel-1].syntax;const h=document.createElement("div");h.classList.add("nav__help"),h.textContent=e[this.currentLevel-1].help;const m=document.createElement("div");m.classList.add("nav__examples-title"),m.textContent="Examples";const g=document.createElement("div");g.classList.add("nav__examples"),e[this.currentLevel-1].examples.forEach((t=>{g.innerHTML+=t,t!==e[this.currentLevel-1].examples[e[this.currentLevel-1].examples.length-1]&&(g.innerHTML+="<hr>")}));const p=document.createElement("div");p.classList.add("nav__level-switch","translated");const v=document.createElement("div");v.classList.add("level-switch__header");const u=document.createElement("div");u.classList.add("level-switch__title"),u.textContent="Choose a level";const L=document.createElement("div");L.classList.add("level-switch__close-btn"),L.addEventListener("click",(()=>{p.classList.add("translated")}));const y=document.createElement("div");y.classList.add("level-switch__levels");const E=[];for(let t=0;t<e.length;t++)E.push(localStorage.getItem(`lvl${t}`));e.forEach(((e,t)=>{let s;const n=document.createElement("div");n.classList.add("nav__level-line"),this.currentLevel===t+1&&n.classList.add("current"),s="complete"===E[t+1]?"status-green":"helped"===E[t+1]?"status-orange":"status-red",n.innerHTML+=`<div class="level-status ${s}"></div>`,n.innerHTML+=`<div class ="level-numb">${e.level}</div>`,n.innerHTML+=`<div>${e.syntax}</div>`,n.addEventListener("click",(()=>{this.currentLevel=e.level,this.refresh()})),y.append(n)}));const f=document.createElement("button");f.classList.add("reset-btn"),f.textContent="Reset Progress",f.addEventListener("click",(()=>{localStorage.clear(),this.currentLevel=1,this.refresh()})),v.append(u,L),p.append(v,y,f),this.navDisplayChildren.push(t,c,o,d,h,m,g,p)}nextLvl(){this.currentLevel<10&&(this.currentLevel++,this.refresh())}prevLvl(){this.currentLevel>1&&(this.currentLevel--,this.refresh())}refresh(){document.body.innerHTML="",this.eventDisplayChildren=[],this.cssDisplayChildren=[],this.htmlDisplayChildren=[],this.navDisplayChildren=[],this.composeEventDisplay(),this.composeCssDisplay(),this.composeHtmlDisplay(),this.composeNavDisplay(),this.createView(this.cssDisplayChildren,this.htmlDisplayChildren,this.navDisplayChildren,this.eventDisplayChildren)}getCurrentLvl(){const e=Number(localStorage.getItem("currentLvl"));e>0&&(this.currentLevel=e)}setLvlCompleteStatus(){"helped"!==localStorage.getItem(`lvl${this.currentLevel}`)&&localStorage.setItem(`lvl${this.currentLevel}`,"complete")}setLvlHelpedStatus(){"complete"!==localStorage.getItem(`lvl${this.currentLevel}`)&&localStorage.setItem(`lvl${this.currentLevel}`,"helped")}receiveEnteredSelector(){var t;null===(t=document.getElementById("selector-form"))||void 0===t||t.addEventListener("submit",(t=>{t.preventDefault();const s=document.getElementById("selector-input"),n=document.querySelectorAll(`.obj-screen ${e[this.currentLevel-1].selector}`);if(s.value===e[this.currentLevel-1].selector)this.setLvlCompleteStatus(),n.forEach((e=>{null==e||e.classList.add("gelatine")})),setTimeout((()=>{var e;n.forEach((e=>{null==e||e.classList.remove("gelatine")})),10===this.currentLevel?null===(e=document.querySelector(".winner-window"))||void 0===e||e.classList.remove("none"):(this.nextLvl(),this.refresh())}),1e3);else{const e=document.querySelectorAll(`.obj-screen ${s.value}`);if(e.length>0)e.forEach((e=>{null==e||e.classList.add("shake")})),setTimeout((()=>{e.forEach((e=>{null==e||e.classList.remove("shake")}))}),500);else{const e=document.querySelector(".gaming-area");null==e||e.classList.add("shake"),setTimeout((()=>{null==e||e.classList.remove("shake")}),500)}}}))}}})();